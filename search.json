[{"title":"nginx配置https访问","url":"/2024/10/30/hello-world/","content":"<p>https证书怎么获取，教程很多，就不在这里说了，主要记录一下如何开启nginx的https服务，以及配置http转发https.</p>\n<h2 id=\"第一步，打开nginx配置文件nginx-conf-打开https服务\"><a href=\"#第一步，打开nginx配置文件nginx-conf-打开https服务\" class=\"headerlink\" title=\"第一步，打开nginx配置文件nginx.conf.打开https服务\"></a>第一步，打开nginx配置文件nginx.conf.打开https服务</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#server &#123;</span></span><br><span class=\"line\"><span class=\"comment\">#    listen       443 ssl;</span></span><br><span class=\"line\"><span class=\"comment\">#    server_name  localhost;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#    ssl_certificate      cert.pem;</span></span><br><span class=\"line\"><span class=\"comment\">#    ssl_certificate_key  cert.key;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#    ssl_session_cache    shared:SSL:1m;</span></span><br><span class=\"line\"><span class=\"comment\">#    ssl_session_timeout  5m;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#    ssl_ciphers  HIGH:!aNULL:!MD5;</span></span><br><span class=\"line\"><span class=\"comment\">#    ssl_prefer_server_ciphers  on;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#    location / &#123;</span></span><br><span class=\"line\"><span class=\"comment\">#        root   html;</span></span><br><span class=\"line\"><span class=\"comment\">#        index  index.html index.htm;</span></span><br><span class=\"line\"><span class=\"comment\">#    &#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"第二步，server（80下的server）加入以下配置\"><a href=\"#第二步，server（80下的server）加入以下配置\" class=\"headerlink\" title=\"第二步，server（80下的server）加入以下配置\"></a>第二步，server（80下的server）加入以下配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">server_name  _;</span><br><span class=\"line\"><span class=\"built_in\">return</span> 301 https://$host<span class=\"variable\">$request_uri</span>; </span><br></pre></td></tr></table></figure>\n\n<h2 id=\"第三步-在443下的的server的location下加入如下配置\"><a href=\"#第三步-在443下的的server的location下加入如下配置\" class=\"headerlink\" title=\"第三步,在443下的的server的location下加入如下配置\"></a>第三步,在443下的的server的location下加入如下配置</h2><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">proxy_pass   你的域名</span><br></pre></td></tr></table></figure>\n\n\n\n<h3 id=\"注意，你的后台服务记得在443下面配置映射，如下：\"><a href=\"#注意，你的后台服务记得在443下面配置映射，如下：\" class=\"headerlink\" title=\"注意，你的后台服务记得在443下面配置映射，如下：\"></a>注意，你的后台服务记得在443下面配置映射，如下：</h3><figure class=\"highlight bash\"><table><tr><td class=\"code\"><pre><span class=\"line\">location /api/ &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">proxy_pass 你的后端访问路径;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>然后重启nginx就可以使用https访问了。</p>\n","categories":["nginx","https"],"tags":["前端"]}]